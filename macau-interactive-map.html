<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¾³é–€æ™¯é»äº’å‹•åœ°åœ– | 2026å¹´1æœˆ10-12æ—¥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            padding: 30px 20px;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        header h1 {
            font-size: 2em;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        #map {
            height: 600px;
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .controls {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .controls h3 {
            color: #764ba2;
            margin-bottom: 15px;
        }

        .day-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
        }

        .btn-day1 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-day2 {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }

        .btn-day3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-all {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .btn-clear {
            background: #ccc;
            color: #333;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .legend {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .legend h3 {
            color: #764ba2;
            margin-bottom: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .legend-icon {
            font-size: 1.5em;
            margin-right: 10px;
            min-width: 30px;
        }

        .back-link {
            display: inline-block;
            background: white;
            color: #764ba2;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 25px;
            margin-top: 20px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: #764ba2;
            color: white;
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5em;
            }
            
            #map {
                height: 400px;
            }
            
            .day-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ—ºï¸ æ¾³é–€æ™¯é»äº’å‹•åœ°åœ–</h1>
            <p style="color: white; margin-top: 10px;">é»æ“ŠæŒ‰éˆ•æŸ¥çœ‹æ¯å¤©è¡Œç¨‹è·¯ç·š</p>
        </header>

        <div class="controls">
            <h3>ğŸ“… é¸æ“‡è¡Œç¨‹æ—¥æœŸ</h3>
            <div class="day-buttons">
                <button class="btn btn-day1" onclick="showDay(1)">Day 1 - æ°¹ä»”æ–‡åŒ–ä¹‹æ—…</button>
                <button class="btn btn-day2" onclick="showDay(2)">Day 2 - ç”Ÿæ—¥ + æ­·å²åŸå€</button>
                <button class="btn btn-day3" onclick="showDay(3)">Day 3 - æœ€å¾Œå·¡ç¦®</button>
                <button class="btn btn-all" onclick="showAll()">é¡¯ç¤ºå…¨éƒ¨æ™¯é»</button>
                <button class="btn btn-clear" onclick="clearMap()">æ¸…é™¤æ¨™è¨˜</button>
            </div>
        </div>

        <div class="map-container">
            <div id="map"></div>
        </div>

        <div class="legend">
            <h3>ğŸ·ï¸ åœ–ç¤ºèªªæ˜</h3>
            <div class="legend-item">
                <span class="legend-icon">âœˆï¸</span>
                <span><strong>æ¾³é–€åœ‹éš›æ©Ÿå ´</strong> - æŠµé”/é›¢é–‹åœ°é»</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ¨</span>
                <span><strong>å·´é»äººé…’åº—</strong> - ä½å®¿åœ°é»</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ›ï¸</span>
                <span><strong>æ­·å²å¤è¹Ÿ</strong> - å¤§ä¸‰å·´ã€åª½é–£å»Ÿç­‰</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon">â›ª</span>
                <span><strong>æ•™å ‚</strong> - ç«ç‘°å ‚ã€å˜‰æ¨¡è–æ¯å ‚</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ­</span>
                <span><strong>æ°´èˆé–“åŠ‡å ´</strong> - ç”Ÿæ—¥è¡¨æ¼”</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸœ</span>
                <span><strong>ç¾é£Ÿå€</strong> - å®˜ä¹Ÿè¡—ç­‰</span>
            </div>
        </div>

        <div style="text-align: center;">
            <a href="index.html" class="back-link">â† è¿”å›æ—…éŠæŒ‡å—</a>
        </div>
    </div>

    <script>
        let map;
        let markers = [];
        let polylines = [];

        // æ‰€æœ‰æ™¯é»è³‡æ–™
        const locations = {
            airport: {
                name: 'æ¾³é–€åœ‹éš›æ©Ÿå ´',
                position: { lat: 22.1496, lng: 113.5918 },
                icon: 'âœˆï¸',
                day: 0,
                type: 'airport'
            },
            conrad: {
                name: 'å·´é»äººé…’åº—',
                position: { lat: 22.1435, lng: 113.5584 },
                icon: 'ğŸ¨',
                day: 0,
                type: 'hotel'
            },
            taipa_village: {
                name: 'å®˜ä¹Ÿè¡—',
                position: { lat: 22.1538, lng: 113.5588 },
                icon: 'ğŸœ',
                day: 1,
                type: 'food'
            },
            casas: {
                name: 'é¾ç’°è‘¡éŸ»',
                position: { lat: 22.1525, lng: 113.5567 },
                icon: 'ğŸ ',
                day: 1,
                type: 'attraction'
            },
            carmel_church: {
                name: 'å˜‰æ¨¡è–æ¯å ‚',
                position: { lat: 22.1545, lng: 113.5594 },
                icon: 'â›ª',
                day: 1,
                type: 'church'
            },
            house_of_dancing_water: {
                name: 'æ°´èˆé–“åŠ‡å ´',
                position: { lat: 22.1467, lng: 113.5593 },
                icon: 'ğŸ­',
                day: 2,
                type: 'show'
            },
            senado: {
                name: 'è­°äº‹äº­å‰åœ°',
                position: { lat: 22.1901, lng: 113.5397 },
                icon: 'ğŸ›ï¸',
                day: 2,
                type: 'attraction'
            },
            st_dominic: {
                name: 'ç«ç‘°å ‚',
                position: { lat: 22.1910, lng: 113.5404 },
                icon: 'â›ª',
                day: 2,
                type: 'church'
            },
            ruins_st_paul: {
                name: 'å¤§ä¸‰å·´ç‰ŒåŠ',
                position: { lat: 22.1973, lng: 113.5413 },
                icon: 'ğŸ›ï¸',
                day: 2,
                type: 'attraction'
            },
            love_lane: {
                name: 'æˆ€æ„›å··',
                position: { lat: 22.1977, lng: 113.5408 },
                icon: 'ğŸ’•',
                day: 2,
                type: 'attraction'
            },
            mount_fortress: {
                name: 'å¤§ç‚®å°',
                position: { lat: 22.1978, lng: 113.5421 },
                icon: 'ğŸ°',
                day: 2,
                type: 'attraction'
            },
            ama_temple: {
                name: 'åª½é–£å»Ÿ',
                position: { lat: 22.1876, lng: 113.5335 },
                icon: 'ğŸ™',
                day: 2,
                type: 'temple'
            },
            mandarin_house: {
                name: 'é„­å®¶å¤§å±‹',
                position: { lat: 22.1877, lng: 113.5363 },
                icon: 'ğŸ ',
                day: 2,
                type: 'attraction'
            },
            lilau_square: {
                name: 'äºå©†äº•å‰åœ°',
                position: { lat: 22.1873, lng: 113.5368 },
                icon: 'ğŸŒ³',
                day: 2,
                type: 'attraction'
            },
            guia_fortress: {
                name: 'æ±æœ›æ´‹ç‡ˆå¡”',
                position: { lat: 22.1961, lng: 113.5497 },
                icon: 'ğŸ—¼',
                day: 3,
                type: 'attraction'
            }
        };

        // åˆå§‹åŒ–åœ°åœ–
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 13,
                center: { lat: 22.1700, lng: 113.5500 },
                styles: [
                    {
                        featureType: 'poi',
                        elementType: 'labels',
                        stylers: [{ visibility: 'off' }]
                    }
                ]
            });
        }

        // æ¸…é™¤æ‰€æœ‰æ¨™è¨˜å’Œè·¯ç·š
        function clearMap() {
            markers.forEach(marker => marker.setMap(null));
            polylines.forEach(polyline => polyline.setMap(null));
            markers = [];
            polylines = [];
        }

        // å‰µå»ºæ¨™è¨˜
        function createMarker(location, showLabel = true) {
            const marker = new google.maps.Marker({
                position: location.position,
                map: map,
                title: location.name,
                label: {
                    text: location.icon,
                    fontSize: '24px'
                },
                animation: google.maps.Animation.DROP
            });

            const infoWindow = new google.maps.InfoWindow({
                content: `
                    <div style="padding: 10px; font-family: 'Microsoft JhengHei', sans-serif;">
                        <h3 style="margin: 0 0 10px 0; color: #764ba2;">${location.icon} ${location.name}</h3>
                        <a href="https://www.google.com/maps/dir/?api=1&destination=${location.position.lat},${location.position.lng}" 
                           target="_blank" 
                           style="color: #667eea; text-decoration: none; font-weight: bold;">
                           ğŸ“ é–‹å•Ÿå°èˆª
                        </a>
                    </div>
                `
            });

            marker.addListener('click', () => {
                infoWindow.open(map, marker);
            });

            markers.push(marker);
            return marker;
        }

        // ç¹ªè£½è·¯ç·š
        function drawRoute(locations, color) {
            const path = locations.map(loc => loc.position);
            const polyline = new google.maps.Polyline({
                path: path,
                geodesic: true,
                strokeColor: color,
                strokeOpacity: 0.8,
                strokeWeight: 3,
                map: map
            });
            polylines.push(polyline);
        }

        // é¡¯ç¤ºç¬¬ä¸€å¤©è¡Œç¨‹
        function showDay(day) {
            clearMap();
            
            if (day === 1) {
                // Day 1: æ©Ÿå ´ â†’ åº·èŠå¾· â†’ æ°¹ä»”æ™¯é»
                const day1Locations = [
                    locations.airport,
                    locations.conrad,
                    locations.taipa_village,
                    locations.casas,
                    locations.carmel_church
                ];
                
                day1Locations.forEach(loc => createMarker(loc));
                drawRoute(day1Locations, '#f5576c');
                
                map.setCenter({ lat: 22.1500, lng: 113.5580 });
                map.setZoom(14);
                
            } else if (day === 2) {
                // Day 2: åº·èŠå¾· â†’ æ¾³é–€åŠå³¶æ­·å²åŸå€ â†’ æ°´èˆé–“
                const day2Locations = [
                    locations.conrad,
                    locations.senado,
                    locations.st_dominic,
                    locations.ruins_st_paul,
                    locations.love_lane,
                    locations.mount_fortress,
                    locations.ama_temple,
                    locations.mandarin_house,
                    locations.lilau_square,
                    locations.house_of_dancing_water
                ];
                
                day2Locations.forEach(loc => createMarker(loc));
                drawRoute(day2Locations, '#fee140');
                
                map.setCenter({ lat: 22.1850, lng: 113.5400 });
                map.setZoom(13);
                
            } else if (day === 3) {
                // Day 3: åº·èŠå¾· â†’ æ±æœ›æ´‹ç‡ˆå¡” â†’ æ©Ÿå ´
                const day3Locations = [
                    locations.conrad,
                    locations.guia_fortress,
                    locations.airport
                ];
                
                day3Locations.forEach(loc => createMarker(loc));
                drawRoute(day3Locations, '#00f2fe');
                
                map.setCenter({ lat: 22.1700, lng: 113.5500 });
                map.setZoom(13);
            }
        }

        // é¡¯ç¤ºæ‰€æœ‰æ™¯é»
        function showAll() {
            clearMap();
            Object.values(locations).forEach(loc => createMarker(loc));
            
            // èª¿æ•´åœ°åœ–è¦–è§’ä»¥é¡¯ç¤ºæ‰€æœ‰æ¨™è¨˜
            const bounds = new google.maps.LatLngBounds();
            Object.values(locations).forEach(loc => {
                bounds.extend(loc.position);
            });
            map.fitBounds(bounds);
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        window.onload = function() {
            initMap();
            showAll(); // é è¨­é¡¯ç¤ºæ‰€æœ‰æ™¯é»
        };
    </script>

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDgU6maj9qywhJ1SsVnsRZe31JMgcLbcg&callback=initMap" async defer></script>
</body>
</html>
